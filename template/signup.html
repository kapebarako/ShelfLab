<!DOCTYPE html> 
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link rel="icon"  href="{{ url_for('static', filename='../static/image/icon.png')}}">
    <title>Shelf Lab | Sign Up</title>
    <style type="text/css">
    body{
    	background-color: #02385d !important;
    }

    .main{
    	background-color: #e7e7e5 !important;
    	margin: 4.5% auto;
    	width: 80%;
    	border: 8px solid #ee6810 !important;
    	border-radius: 8px;
    	padding: 20px;
    }

    .cform{
    	margin: 15px 5px;
        border: 20px solid #a6a6a6;
        padding: 25px;
        border-radius: 5px;
        text-align: left;
    }

    .img{
    	margin: auto;
    }
    
	</style>
</head>
<body>
    
    <div class="container main">

        <!-- flash message show when successful sign up  -->
        {% for message in get_flashed_messages() %}
        <div class="alert alert-success alert-dismissible fade show" role="alert" style="text-align: center;"><h6>
            {{ message }}. Click <a href="{{url_for('login')}}">here</a> to go back to the Login Page</h6>
        </div>
        {% endfor %}

        <div class="row align-items-start">
            <div class="col img">
                <img class="mt-2 mb-4 mx-auto d-block" src="{{ url_for('static', filename='../static/image/logobg.png')}}" alt="ShelfLab Logo" height="120" >
            </div>

            <div class="col"> 
            <form action="{{url_for('signup')}}" method = POST
                oninput='confirmpassword.setCustomValidity(confirmpassword.value != password.value ? "Passwords do not match." : "")'>
                
                <div class="border-3 cform">
                    <h2 style="color: #ee6810; font-size: 25px;">SIGN UP</h2>
                    
                    {{ form.hidden_tag() }}

                    <label class="form-label sr-only fs-5 align-baseline" for="email">E-MAIL ADDRESS</label>
                    <input type="email" id="email" class="form-control mb-3" name="email" placeholder="shelflab@email.com" required autofocus>
                    

                    <label for="username" class="control-label  sr-only fs-5 align-baseline">USERNAME</label>
                    <input type="text" pattern="^[_A-z0-9]{1,}$" class="form-control mb-3" id="username" placeholder="username" name="username" required>

                    <label for="password" class="sr-only fs-5 ">PASSWORD</label>
                    <input type="password" name="password" id="pw" placeholder="password" class="form-control mb-3" required>
                      
                    <label for="confirmpassword" class="sr-only fs-5 ">CONFIRM PASSWORD</label>
                    <input type="password" name="confirmpassword" id="confirmpassword" placeholder="confirm password" class="form-control mb-3" data-match="#pw" data-match-error="Whoops, these don't match" required>     
                        
                    <div class="mt-3 text-center">
                        <button class="btn btn-lg btn-primary btn-block" name="submit">Sign Up</button>
                        <a class="btn btn-lg btn-light border border-dark" href="{{url_for('login')}}" role="button">Cancel</a>
                    </div>


                </div>  
            </form>
            </div>
        </div>
    </div>
</body>
</html>